<pre style='color:#000020;background:#f6f8ff;'><html><body style='color:#000020; background:#f6f8ff; '><pre>
<span style='color:#200080; font-weight:bold; '>import</span> maya<span style='color:#308080; '>.</span>cmds as cmds

<span style='color:#200080; font-weight:bold; '>def</span> grp_me<span style='color:#308080; '>(</span><span style='color:#308080; '>)</span><span style='color:#308080; '>:</span>
    sel <span style='color:#308080; '>=</span> cmds<span style='color:#308080; '>.</span>ls<span style='color:#308080; '>(</span>sl <span style='color:#308080; '>=</span> <span style='color:#e34adc; '>True</span><span style='color:#308080; '>)</span>
    
    <span style='color:#200080; font-weight:bold; '>if</span> <span style='color:#e34adc; '>len</span><span style='color:#308080; '>(</span>sel<span style='color:#308080; '>)</span> <span style='color:#308080; '>=</span><span style='color:#308080; '>=</span> <span style='color:#008c00; '>0</span><span style='color:#308080; '>:</span>
        <span style='color:#200080; font-weight:bold; '>raise</span> <span style='color:#e34adc; '>StandardError</span><span style='color:#308080; '>,</span> <span style='color:#1060b6; '>'Error: Please select an object'</span> 
    
    xyz <span style='color:#308080; '>=</span> <span style='color:#308080; '>[</span><span style='color:#1060b6; '>'X'</span><span style='color:#308080; '>,</span><span style='color:#1060b6; '>'Y'</span><span style='color:#308080; '>,</span><span style='color:#1060b6; '>'Z'</span><span style='color:#308080; '>]</span>
    obj_list <span style='color:#308080; '>=</span> sel
    <span style='color:#200080; font-weight:bold; '>print</span> cmds<span style='color:#308080; '>.</span>listRelatives<span style='color:#308080; '>(</span>obj_list<span style='color:#308080; '>[</span><span style='color:#008c00; '>0</span><span style='color:#308080; '>]</span><span style='color:#308080; '>,</span> pa<span style='color:#308080; '>=</span><span style='color:#e34adc; '>True</span><span style='color:#308080; '>)</span>

    <span style='color:#200080; font-weight:bold; '>for</span> obj <span style='color:#200080; font-weight:bold; '>in</span> obj_list<span style='color:#308080; '>:</span>
        grp <span style='color:#308080; '>=</span> cmds<span style='color:#308080; '>.</span>group<span style='color:#308080; '>(</span> em<span style='color:#308080; '>=</span><span style='color:#e34adc; '>True</span><span style='color:#308080; '>,</span> name<span style='color:#308080; '>=</span> obj<span style='color:#308080; '>+</span><span style='color:#1060b6; '>'NUL'</span> <span style='color:#308080; '>)</span>
        trans <span style='color:#308080; '>=</span> cmds<span style='color:#308080; '>.</span>xform<span style='color:#308080; '>(</span>obj<span style='color:#308080; '>,</span> q<span style='color:#308080; '>=</span><span style='color:#e34adc; '>True</span><span style='color:#308080; '>,</span> ws<span style='color:#308080; '>=</span><span style='color:#e34adc; '>True</span><span style='color:#308080; '>,</span> t<span style='color:#308080; '>=</span><span style='color:#e34adc; '>True</span><span style='color:#308080; '>)</span>
        rots <span style='color:#308080; '>=</span> cmds<span style='color:#308080; '>.</span>xform<span style='color:#308080; '>(</span>obj<span style='color:#308080; '>,</span> q<span style='color:#308080; '>=</span><span style='color:#e34adc; '>True</span><span style='color:#308080; '>,</span> ws<span style='color:#308080; '>=</span><span style='color:#e34adc; '>True</span><span style='color:#308080; '>,</span> ro<span style='color:#308080; '>=</span><span style='color:#e34adc; '>True</span><span style='color:#308080; '>)</span>
        obj_parent <span style='color:#308080; '>=</span> cmds<span style='color:#308080; '>.</span>listRelatives<span style='color:#308080; '>(</span>obj<span style='color:#308080; '>,</span> p<span style='color:#308080; '>=</span><span style='color:#e34adc; '>True</span><span style='color:#308080; '>)</span>
    
        <span style='color:#200080; font-weight:bold; '>for</span> index<span style='color:#308080; '>,</span> item <span style='color:#200080; font-weight:bold; '>in</span> <span style='color:#e34adc; '>enumerate</span><span style='color:#308080; '>(</span>xyz<span style='color:#308080; '>)</span><span style='color:#308080; '>:</span>  
            cmds<span style='color:#308080; '>.</span>setAttr<span style='color:#308080; '>(</span><span style='color:#308080; '>(</span>grp <span style='color:#308080; '>+</span><span style='color:#1060b6; '>'.translate'</span><span style='color:#308080; '>+</span>item<span style='color:#308080; '>)</span><span style='color:#308080; '>,</span> trans<span style='color:#308080; '>[</span>index<span style='color:#308080; '>]</span><span style='color:#308080; '>)</span>
            cmds<span style='color:#308080; '>.</span>setAttr<span style='color:#308080; '>(</span><span style='color:#308080; '>(</span>grp <span style='color:#308080; '>+</span><span style='color:#1060b6; '>'.rotate'</span><span style='color:#308080; '>+</span>item<span style='color:#308080; '>)</span><span style='color:#308080; '>,</span> rots<span style='color:#308080; '>[</span>index<span style='color:#308080; '>]</span><span style='color:#308080; '>)</span>
    
        cmds<span style='color:#308080; '>.</span>parent<span style='color:#308080; '>(</span>obj<span style='color:#308080; '>,</span> grp<span style='color:#308080; '>)</span>
        <span style='color:#200080; font-weight:bold; '>if</span> obj_parent <span style='color:#308080; '>=</span><span style='color:#308080; '>=</span> <span style='color:#e34adc; '>None</span><span style='color:#308080; '>:</span>
            <span style='color:#200080; font-weight:bold; '>continue</span>
        <span style='color:#200080; font-weight:bold; '>else</span><span style='color:#308080; '>:</span>
            cmds<span style='color:#308080; '>.</span>parent<span style='color:#308080; '>(</span>grp<span style='color:#308080; '>,</span> obj_parent<span style='color:#308080; '>)</span>
    
grp_me<span style='color:#308080; '>(</span><span style='color:#308080; '>)</span>
</pre>